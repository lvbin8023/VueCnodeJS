(function(t){function e(e){for(var a,s,o=e[0],c=e[1],l=e[2],f=0,p=[];f<o.length;f++)s=o[f],Object.prototype.hasOwnProperty.call(r,s)&&r[s]&&p.push(r[s][0]),r[s]=0;for(a in c)Object.prototype.hasOwnProperty.call(c,a)&&(t[a]=c[a]);u&&u(e);while(p.length)p.shift()();return i.push.apply(i,l||[]),n()}function n(){for(var t,e=0;e<i.length;e++){for(var n=i[e],a=!0,o=1;o<n.length;o++){var c=n[o];0!==r[c]&&(a=!1)}a&&(i.splice(e--,1),t=s(s.s=n[0]))}return t}var a={},r={app:0},i=[];function s(e){if(a[e])return a[e].exports;var n=a[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,s),n.l=!0,n.exports}s.m=t,s.c=a,s.d=function(t,e,n){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},s.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(s.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)s.d(n,a,function(e){return t[e]}.bind(null,a));return n},s.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="/VueCnodeJS/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],c=o.push.bind(o);o.push=e,o=o.slice();for(var l=0;l<o.length;l++)e(o[l]);var u=c;i.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"125a":function(t,e,n){},"12ae":function(t,e,n){t.exports=n.p+"img/loading.078fcd09.gif"},"24d7":function(t,e,n){},"254a":function(t,e,n){"use strict";var a=n("3737"),r=n.n(a);r.a},2663:function(t,e,n){},"2ea2":function(t,e,n){t.exports=n.p+"img/nodeJs.86f6a7c2.svg"},3737:function(t,e,n){},"4a1f":function(t,e,n){"use strict";var a=n("2663"),r=n.n(a);r.a},"4dcb":function(t,e,n){},5125:function(t,e,n){"use strict";var a=n("f618"),r=n.n(a);r.a},"56d7":function(t,e,n){"use strict";n.r(e);n("456d"),n("ac6a"),n("cadf"),n("551c"),n("f751"),n("097d");var a=n("2b0e"),r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("Header",{attrs:{id:"header"}}),n("Main",{attrs:{id:"main"}}),n("Footer",{attrs:{id:"footer"}}),n("el-backtop",{attrs:{target:"#app"}})],1)},i=[],s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"header clearFix"},[a("img",{attrs:{src:n("2ea2"),alt:"logo"}}),a("ul",{staticClass:"nav"},[a("li",[a("router-link",{attrs:{to:{path:"/"}}},[t._v("首页")])],1),a("li",[a("router-link",{attrs:{to:""}},[t._v("新手入门")])],1),a("li",[a("router-link",{attrs:{to:""}},[t._v("API")])],1),a("li",[a("router-link",{attrs:{to:""}},[t._v("关于")])],1),a("li",[a("router-link",{attrs:{to:""}},[t._v("注册")])],1),a("li",[a("router-link",{attrs:{to:{name:"login",params:{}}}},[t._v("登录")])],1)])])},o=[],c={name:"Header"},l=c,u=(n("5125"),n("2877")),f=Object(u["a"])(l,s,o,!1,null,"1f0d1dfc",null),p=f.exports,d=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"main"},[n("router-view",{attrs:{name:"main"}})],1)},m=[],v={name:"Main"},g=v,h=(n("58bd"),Object(u["a"])(g,d,m,!1,null,"1ed42019",null)),_=h.exports,b=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"footer"},[t._v("\n  这是Footer组件\n")])},y=[],C={name:"Footer"},P=C,j=Object(u["a"])(P,b,y,!1,null,"387cf196",null),k=j.exports,O={name:"App",components:{Header:p,Main:_,Footer:k},data:function(){return{}},methods:{}},D=O,N=(n("771d"),Object(u["a"])(D,r,i,!1,null,"2b0927ea",null)),w=N.exports,$=n("8c4f"),x=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"post-list"},[t.isLoading?a("div",{staticClass:"loading"},[a("img",{attrs:{src:n("12ae"),alt:""}})]):t._e(),a("ul",{staticClass:"list"},[a("li",[a("div",{staticClass:"topBar"},t._l(t.tabs,(function(e){return a("span",{key:e.type,class:t.tab===e.type?"current_tab":"",on:{click:function(n){return t.getTabData(e.type)}}},[t._v(t._s(e.name))])})),0)]),t._l(t.listData,(function(e){return a("li",{key:e.id,staticClass:"clearFix"},[a("router-link",{attrs:{to:{name:"user",params:{loginname:e.author.loginname}}}},[a("img",{staticClass:"avatar",attrs:{src:e.author&&e.author.avatar_url,alt:"头像"}})]),a("span",{staticClass:"count"},[a("span",{staticClass:"reply-count"},[a("em",[t._v(t._s(e.reply_count))]),a("em",[t._v("/"+t._s(e.visit_count))])])]),a("span",{staticClass:"label",class:[{good:!0===e.good,top:!0===e.top,other_tab:!0!==e.good&&!0!==e.top}]},[t._v(t._s(t._f("tabFormat")(e)))]),a("router-link",{staticClass:"title",attrs:{to:{name:"article",params:{id:e.id}}}},[a("span",[t._v(t._s(e.title))])]),a("span",{staticClass:"time"},[t._v("\n        "+t._s(t._f("formatDate")(e.last_reply_at))+"\n      ")])],1)})),a("Pagination",{attrs:{pageSize:t.limit,totalNum:this.listData.length},on:{childPageNumber:t.getCurrentPage}})],2)])},E=[],I=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"pagination"},[n("el-pagination",{attrs:{background:"",layout:"prev, pager, next","page-size":t.pageSize,total:10*t.totalNum},on:{"current-change":t.handleCurrentChange}})],1)},L=[],T=(n("c5f6"),{name:"Pagination",props:{pageSize:{type:Number,required:!0},totalNum:{type:Number,required:!0}},methods:{handleCurrentChange:function(t){console.log("当前页: ".concat(t)),this.$emit("childPageNumber","".concat(t))}}}),R=T,S=(n("254a"),Object(u["a"])(R,I,L,!1,null,"37a9806a",null)),J=S.exports,M={name:"PostList",components:{Pagination:J},data:function(){return{isLoading:!1,listData:[],limit:20,page:1,tab:"all",tabs:{all:{name:"全部",type:"all"},good:{name:"精华",type:"good"},share:{name:"分享",type:"share"},ask:{name:"问答",type:"ask"},job:{name:"招聘",type:"job"}},store:{}}},beforeMount:function(){this.isLoading=!0,this.getListData()},methods:{getListData:function(){var t=this,e={limit:this.limit,page:this.page,tab:this.tab};this.$http.fetchGet("/topics",e).then((function(e){t.isLoading=!1,t.listData=e.data.data})).catch((function(){}))},getTabData:function(t){this.page=1,this.tab=t,this.getListData(),this.listData=[]},getCurrentPage:function(t){this.page=t,this.getListData()}}},A=M,F=(n("6730"),Object(u["a"])(A,x,E,!1,null,"1498cf7c",null)),q=F.exports,G=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"topic"},[n("div",{staticClass:"left"},[n("div",{staticClass:"title",domProps:{innerHTML:t._s(t.article.title)}}),n("div",{staticClass:"info"},[n("span",[t._v("\n        发布于 \n        "+t._s(t._f("formatDate")(t.article.create_at))+"\n         • \n      ")]),t._v("\n      作者：\n      "),n("router-link",{attrs:{to:{name:"user",params:{loginname:t.article.loginname}}}},[t._v("\n        "+t._s(t.article.loginname)+"\n      ")]),t._v("\n       • \n      "),n("span",[t._v(t._s(t.article.visit_count)+"次浏览 • ")]),n("span",[t._v("\n        来自："+t._s(t.tabs[t.article.tab]&&t.tabs[t.article.tab].name)+"\n      ")])],1),n("Divider"),n("div",{staticClass:"content",domProps:{innerHTML:t._s(t.article.content)}}),n("Reply",{attrs:{replyData:t.article.replies}})],1),n("div",{staticClass:"right"},[n("ProfilePanel",{attrs:{loginName:t.article.loginname}}),n("RecentCreate",{attrs:{titleNum:t.titleNum}}),n("RecentJoin",{attrs:{titleNum:t.titleNum}})],1)])},H=[],U=(n("8e6e"),n("bd86")),z=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"divider"})},V=[],B={name:"Divider"},K=B,Q=(n("fd1a"),Object(u["a"])(K,z,V,!1,null,"67fc0db6",null)),W=Q.exports,X=function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.replyData&&0!==t.replyData.length?a("div",{staticClass:"reply"},[a("div",{staticClass:"reply-num"},[a("span",[t._v(t._s(t.replyData.length))]),t._v(" 回复\n  ")]),t._l(t.replyData,(function(e,r){return a("div",{key:e.id,staticClass:"reply-info"},[a("router-link",{attrs:{to:{name:"user",params:{loginname:e.author.loginname}}}},[a("img",{staticClass:"avatar",attrs:{src:e.author&&e.author.avatar_url,alt:"头像"}})]),a("div",{staticClass:"info"},[a("div",{staticClass:"info-text"},[a("div",{staticClass:"info-left"},[a("span",[t._v(t._s(r+1))]),t._v("楼 \n          "),a("router-link",{attrs:{to:{name:"user",params:{loginname:e.author.loginname}}}},[t._v("\n            "+t._s(e.author.loginname)+"\n          ")]),a("span",[t._v(" "+t._s(t._f("formatDate")(e.create_at)))])],1),a("span",{staticClass:"info-right"},[e.ups.length?a("img",{staticClass:"thumbs",attrs:{src:n("86f1"),alt:"点赞"}}):t._e(),t._v("\n          "+t._s(0!==e.ups.length?e.ups.length:"")+"\n        ")])]),a("div",{staticClass:"markdown"},[a("p",{staticClass:"content",domProps:{innerHTML:t._s(e.content)}})])])],1)}))],2):t._e()},Y=[],Z={name:"Reply",props:{replyData:{type:Array,default:function(){return[]}}}},tt=Z,et=(n("5cfe"),Object(u["a"])(tt,X,Y,!1,null,"ea54cbc8",null)),nt=et.exports,at=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"panel"},[n("router-link",{staticClass:"user",attrs:{to:{name:"user",params:{loginname:t.user.loginname}}}},[n("img",{staticClass:"user-avatar",attrs:{src:t.user.avatar_url,alt:"头像"}}),n("span",{staticClass:"user-name"},[t._v(t._s(t.user.loginname))])]),n("div",{staticClass:"integral"},[t._v("积分："+t._s(t.user.score))]),n("div",{staticClass:"github"},[t._v("\n    Github：\n    "),n("a",{attrs:{href:"https://github.com/"+t.user.githubUsername,target:"_blank",rel:"nofollow noopener noreferrer"}},[t._v("\n      "+t._s(t.user.githubUsername)+"\n    ")])]),n("div",{staticClass:"register-time"},[t._v("\n    注册时间："+t._s(t._f("formatDate")(t.user.create_at))+"\n  ")])],1)},rt=[],it=new a["default"],st={name:"ProfilePanel",props:["loginName"],data:function(){return{user:{}}},mounted:function(){var t=this;this.$nextTick((function(){if(!t.loginName)return!1;t.getPanelData(t.loginName)}))},watch:{loginName:function(t){if(!t)return!1;this.getPanelData(t)}},methods:{getPanelData:function(t){var e=this;this.$http.fetchGet("/user/".concat(t)).then((function(t){e.user=t.data.data,it.$emit("user",e.user)}))}}},ot=st,ct=(n("6650"),Object(u["a"])(ot,at,rt,!1,null,"289f17a6",null)),lt=ct.exports,ut=function(){var t=this,e=t.$createElement,n=t._self._c||e;return void 0!==t.userInfo.recent_topics&&t.userInfo.recent_topics.length?n("div",{staticClass:"panel"},[n("header",[t._v("最近创建的话题")]),n("Divider",{staticClass:"divider"}),t._l(t.userInfo.recent_topics,(function(e,a){return[a<t.titleNum?n("div",{key:e.id,staticClass:"current-topic"},[n("router-link",{attrs:{to:{name:"article",params:{id:e.id}}}},[t._v(t._s(e.title))])],1):t._e()]}))],2):t._e()},ft=[],pt={name:"RecentCreate",props:{titleNum:{type:Number,required:!0}},components:{Divider:W},data:function(){return{userInfo:{}}},created:function(){it.$off("user")},mounted:function(){var t=this;this.$nextTick((function(){it.$on("user",(function(e){t.userInfo=e}))}))}},dt=pt,mt=(n("b716"),Object(u["a"])(dt,ut,ft,!1,null,"2913bb13",null)),vt=mt.exports,gt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return void 0!==t.userInfo.recent_replies&&t.userInfo.recent_replies.length?n("div",{staticClass:"panel"},[n("header",[t._v("最近参与的话题")]),n("Divider",{staticClass:"divider"}),t._l(t.userInfo.recent_replies,(function(e,a){return[a<t.titleNum?n("div",{key:e.id,staticClass:"current-topic"},[n("router-link",{attrs:{to:{name:"article",params:{id:e.id}}}},[t._v(t._s(e.title))])],1):t._e()]}))],2):t._e()},ht=[],_t={name:"RecentJoin",props:{titleNum:{type:Number,required:!0}},components:{Divider:W},data:function(){return{userInfo:{}}},created:function(){it.$off("user")},mounted:function(){var t=this;this.$nextTick((function(){it.$on("user",(function(e){t.userInfo=e}))}))}},bt=_t,yt=(n("c44c"),Object(u["a"])(bt,gt,ht,!1,null,"377405f8",null)),Ct=yt.exports;function Pt(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,a)}return n}function jt(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Pt(n,!0).forEach((function(e){Object(U["a"])(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Pt(n).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var kt={name:"Article",components:{Divider:W,Reply:nt,ProfilePanel:lt,RecentCreate:vt,RecentJoin:Ct},data:function(){return{isLoading:!1,article:{},titleNum:8,tabs:{all:{name:"全部",type:"all"},good:{name:"精华",type:"good"},share:{name:"分享",type:"share"},ask:{name:"问答",type:"ask"},job:{name:"招聘",type:"job"}}}},mounted:function(){var t=this;this.$nextTick((function(){t.isLoading=!0,t.getArticlesData(t.$route.params.id)}))},beforeRouteUpdate:function(t,e,n){this.getArticlesData(t.params.id),n()},methods:{getArticlesData:function(t){var e=this;this.$http.fetchGet("/topic/".concat(t)).then((function(t){e.article=jt({},t.data.data,{},t.data.data.author)})).catch((function(){}))}}},Ot=kt,Dt=(n("4a1f"),Object(u["a"])(Ot,G,H,!1,null,"6ee2ba2a",null)),Nt=Dt.exports,wt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"user-panel"},[n("ProfilePanel",{attrs:{loginName:t.loginName}}),n("RecentCreate",{attrs:{"title-num":t.topicsNum}}),n("RecentJoin",{attrs:{"title-num":t.repliesNum}})],1)},$t=[],xt={name:"User",components:{ProfilePanel:lt,RecentCreate:vt,RecentJoin:Ct},data:function(){return{loginName:"",topicsNum:0,repliesNum:0}},mounted:function(){var t=this;this.$nextTick((function(){t.loginName=t.$route.params.loginname,t.getTitleNum(t.loginName)}))},beforeRouteUpdate:function(t,e,n){this.loginName=t.params.loginname,n()},methods:{getTitleNum:function(t){var e=this;this.$http.fetchGet("/user/".concat(t)).then((function(t){var n=t.data.data;e.topicsNum=n.recent_topics.length,e.repliesNum=n.recent_replies.length}))}}},Et=xt,It=Object(u["a"])(Et,wt,$t,!1,null,"fa1fcbfc",null),Lt=It.exports,Tt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"login"},[t._v("\n  这是登录组件\n")])},Rt=[],St={name:"Login"},Jt=St,Mt=Object(u["a"])(Jt,Tt,Rt,!1,null,"5e85797b",null),At=Mt.exports;a["default"].use($["a"]);var Ft=new $["a"]({mode:"hash",base:"/VueCnodeJS/",routes:[{path:"/",name:"postList",components:{main:q}},{path:"/topic/:id",name:"article",components:{main:Nt}},{path:"/user/:loginname",name:"user",components:{main:Lt}},{path:"/login",name:"login",components:{main:At}},{path:"/topic",redirect:"/"},{path:"/user",redirect:"/"}]}),qt=n("2f62");a["default"].use(qt["a"]);var Gt=new qt["a"].Store({state:{},mutations:{},actions:{}}),Ht=n("9483");Object(Ht["a"])("".concat("/VueCnodeJS/","service-worker.js"),{ready:function(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered:function(){console.log("Service worker has been registered.")},cached:function(){console.log("Content has been cached for offline use.")},updatefound:function(){console.log("New content is downloading.")},updated:function(){console.log("New content is available; please refresh.")},offline:function(){console.log("No internet connection found. App is running in offline mode.")},error:function(t){console.error("Error during service worker registration:",t)}});var Ut=n("5c96"),zt=n.n(Ut),Vt=(n("a9d7"),n("4dcb"),n("0fae"),n("8893"),n("bc3a")),Bt=n.n(Vt);function Kt(t,e){return new Promise((function(n,a){Bt.a.get(t,{params:e}).then((function(t){n(t)}),(function(t){a(t)})).catch((function(t){a(t)}))}))}function Qt(t,e){return new Promise((function(n,a){Bt.a.post(t,e).then((function(t){n(t)}),(function(t){a(t)})).catch((function(t){a(t)}))}))}Bt.a.defaults.timeout=1e4,Bt.a.defaults.baseURL="https://cnodejs.org/api/v1",Bt.a.interceptors.request.use((function(t){return t}),(function(t){return console.log("错误的传参"),Promise.reject(t)})),Bt.a.interceptors.response.use((function(t){return t.data.success?t:Promise.resolve(t)}),(function(t){return console.log("网络异常"),Promise.reject(t)}));var Wt={fetchPost:Qt,fetchGet:Kt},Xt={formatDate:function(t){if(!t)return"";var e=new Date(t),n=(new Date).getTime()-e.getTime();return n<0?"":n/1e3<30?"刚刚":n/1e3<60?parseInt(n/1e3)+"秒前":n/6e4<60?parseInt(n/6e4)+"分钟前":n/36e5<24?parseInt(n/36e5)+"小时前":n/864e5<31?parseInt(n/864e5)+"天前":n/2592e6<12?parseInt(n/2592e6)+"月前":parseInt(n/31536e6)+"年前"},tabFormat:function(t){return!0===t.good?"精华":t.top?"置顶":"ask"===t.tab?"问答":"share"===t.tab?"分享":"job"===t.tab?"招聘":void 0}},Yt=Xt;a["default"].config.productionTip=!1,a["default"].prototype.$http=Wt,a["default"].use(zt.a),Object.keys(Yt).forEach((function(t){a["default"].filter(t,Yt[t])})),new a["default"]({router:Ft,store:Gt,render:function(t){return t(w)}}).$mount("#app")},"58bd":function(t,e,n){"use strict";var a=n("7c53"),r=n.n(a);r.a},"5cfe":function(t,e,n){"use strict";var a=n("84a1"),r=n.n(a);r.a},"624d":function(t,e,n){},6650:function(t,e,n){"use strict";var a=n("125a"),r=n.n(a);r.a},6730:function(t,e,n){"use strict";var a=n("dd50"),r=n.n(a);r.a},"771d":function(t,e,n){"use strict";var a=n("ef18"),r=n.n(a);r.a},"7c53":function(t,e,n){},"84a1":function(t,e,n){},"86f1":function(t,e,n){t.exports=n.p+"img/thumbs-up.b296ff53.svg"},8893:function(t,e,n){},a290:function(t,e,n){},a9d7:function(t,e,n){},b716:function(t,e,n){"use strict";var a=n("624d"),r=n.n(a);r.a},c44c:function(t,e,n){"use strict";var a=n("24d7"),r=n.n(a);r.a},dd50:function(t,e,n){},ef18:function(t,e,n){},f618:function(t,e,n){},fd1a:function(t,e,n){"use strict";var a=n("a290"),r=n.n(a);r.a}});
//# sourceMappingURL=app.56a6bcf0.js.map